package com.alibaba.nacos.client.utils;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.core.Is.is;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.junit.jupiter.api.Test;

/**
 * Unit tests for com.alibaba.nacos.client.utils.EnvUtil
 *
 * @author Diffblue Cover
 */

class EnvUtilTest {

    @Test
    void setSelfEnv1() {
        EnvUtil.setSelfEnv(new HashMap<String, List<String>>());
    }

    @Test
    void setSelfEnv2() {
        EnvUtil.setSelfEnv(null);
    }

    @Test
    void setSelfEnv3() {
        HashMap<String, List<String>> headers =
             new HashMap<String, List<String>>();
        List<String> list1 = new ArrayList<String>();
        list1.add("bar");
        headers.put("Amory-Tag", list1);
        List<String> list2 = new ArrayList<String>();
        list2.add("foo");
        headers.put("Location-Tag", list2);
        List<String> list3 = new ArrayList<String>();
        list3.add("foo");
        headers.put("Vipserver-Tag", list3);
        EnvUtil.setSelfEnv(headers);
    }

    @Test
    void setSelfEnv4() {
        HashMap<String, List<String>> headers =
             new HashMap<String, List<String>>();
        List<String> list1 = new ArrayList<String>();
        list1.add("foo");
        headers.put("Amory-Tag", list1);
        List<String> list2 = new ArrayList<String>();
        list2.add("bar");
        headers.put("Location-Tag", list2);
        List<String> list3 = new ArrayList<String>();
        list3.add("foo");
        headers.put("Vipserver-Tag", list3);
        EnvUtil.setSelfEnv(headers);
    }

    @Test
    void setSelfEnv5() {
        HashMap<String, List<String>> headers =
             new HashMap<String, List<String>>();
        List<String> list1 = new ArrayList<String>();
        list1.add("foo");
        headers.put("Amory-Tag", list1);
        List<String> list2 = new ArrayList<String>();
        list2.add("foo");
        headers.put("Location-Tag", list2);
        List<String> list3 = new ArrayList<String>();
        list3.add("bar");
        headers.put("Vipserver-Tag", list3);
        EnvUtil.setSelfEnv(headers);
    }

    @Test
    void getSelfAmorayTag() {
        assertThat(EnvUtil.getSelfAmorayTag(), is("Location-Tag"));
    }

    @Test
    void getSelfVipserverTagReturnsFoo() {
        assertThat(EnvUtil.getSelfVipserverTag(), is("foo"));
    }

    @Test
    void getSelfLocationTag() {
        assertThat(EnvUtil.getSelfLocationTag(), is("selfAmoryTag:{}"));
    }
}
